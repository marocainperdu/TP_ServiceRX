{
  "Dhcp4": {
    "interfaces-config": {
      "interfaces": ["eth0"],
      "dhcp-socket-type": "raw"
    },
    
    "control-sockets": {
      "dhcp4": {
        "socket-type": "unix",
        "socket-name": "/run/kea/kea4_control.sock"
      }
    },

    "lease-database": {
      "type": "memfile",
      "lfc-interval": 3600,
      "name": "/var/lib/kea/kea-leases4.csv"
    },

    "renew-timer": 900,
    "rebind-timer": 1800,
    "valid-lifetime": 3600,

    "option-data": [
      {
        "name": "routers",
        "data": "192.168.99.1"
      },
      {
        "name": "domain-name-servers",
        "data": "192.168.99.20"
      },
      {
        "name": "domain-name",
        "data": "smartcampus.local"
      },
      {
        "name": "tftp-server-name",
        "data": "192.168.99.10"
      },
      {
        "name": "boot-file-name",
        "data": "ipxe.efi"
      }
    ],

    "subnet4": [
      {
        "subnet": "192.168.99.0/24",
        "id": 99,
        "pools": [
          {
            "pool": "192.168.99.100 - 192.168.99.200"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.99.1"
          },
          {
            "name": "domain-name-servers",
            "data": "192.168.99.20"
          }
        ],
        "reservations": [
          {
            "comment": "Bind9 DNS Server",
            "hw-address": "00:11:22:33:44:55",
            "ip-address": "192.168.99.20",
            "hostname": "dns.smartcampus.local"
          },
          {
            "comment": "iPXE/TFTP Server",
            "hw-address": "00:11:22:33:44:56",
            "ip-address": "192.168.99.10",
            "hostname": "ipxe.smartcampus.local"
          },
          {
            "comment": "Nginx Reverse Proxy",
            "hw-address": "00:11:22:33:44:57",
            "ip-address": "192.168.99.30",
            "hostname": "portal.smartcampus.local"
          },
          {
            "comment": "Squid Proxy",
            "hw-address": "00:11:22:33:44:58",
            "ip-address": "192.168.99.40",
            "hostname": "proxy.smartcampus.local"
          },
          {
            "comment": "vsftpd FTP Server",
            "hw-address": "00:11:22:33:44:59",
            "ip-address": "192.168.99.50",
            "hostname": "ftp.smartcampus.local"
          },
          {
            "comment": "MySQL Database",
            "hw-address": "00:11:22:33:44:60",
            "ip-address": "192.168.99.60",
            "hostname": "db.smartcampus.local"
          }
        ]
      },
      {
        "subnet": "192.168.100.0/24",
        "id": 100,
        "pools": [
          {
            "pool": "192.168.100.50 - 192.168.100.200"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.100.1"
          },
          {
            "name": "domain-name-servers",
            "data": "192.168.99.20"
          }
        ],
        "comment": "VLAN Ã‰tudiants"
      },
      {
        "subnet": "192.168.101.0/24",
        "id": 101,
        "pools": [
          {
            "pool": "192.168.101.50 - 192.168.101.200"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.101.1"
          },
          {
            "name": "domain-name-servers",
            "data": "192.168.99.20"
          }
        ],
        "comment": "VLAN Labs/Labo"
      }
    ],

    "loggers": [
      {
        "name": "kea-dhcp4",
        "output-options": [
          {
            "output": "/var/log/kea/kea-dhcp4.log",
            "pattern": "%D{%Y-%m-%d %H:%M:%S.%q} %-5p [%c] %m\n"
          },
          {
            "output": "stdout",
            "pattern": "%D{%Y-%m-%d %H:%M:%S.%q} %-5p [%c] %m\n"
          }
        ],
        "severity": "INFO",
        "debuglevel": 0
      }
    ]
  }
}
